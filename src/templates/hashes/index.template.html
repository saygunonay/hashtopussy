{%TEMPLATE->struct/head%}
{%TEMPLATE->struct/menu%}
{{IF [[src]] == "chunk"}}
	<h2>[[lang.get('hashes_chunk_title', [ [[chunk.getId()]] ])]]</h2>
{{ENDIF}}
{{IF [[src]] == "task"}}
	<h2>[[lang.get('hashes_task_title', [ [[task.getTaskName()]] ])]]</h2>
{{ENDIF}}
{{IF [[src]] == "hashlist"}}
	<h2>[[lang.get('hashes_hashlist_title', [ [[list.getHashlistName()]] ])]]</h2>
{{ENDIF}}
{%TEMPLATE->struct/messages%}

<div class="panel panel-default">
	<table class="table table-bordered table-nonfluid">
		<tr>
			<th>[[lang.get('table_property_filter')]]</th>
			<td>
				[[filters.getVal([[filtering]]).getVal('text')]]
			</td>
		</tr>
		<tr>
			<th>[[lang.get('table_property_displaying')]]</th>
			<td>
				[[displays.getVal([[displaying]]).getVal('text')]]
			</td>
		</tr>
    <tr>
      <td colspan="2" style="text-align: center;">
        <div class='btn-group'>
          <button class='btn btn-default' onclick="window.location='hashes.php?[[src]]=[[srcId]]&filter=[[filtering]]&display=[[displaying]]&page=[[previousPage]]'"{{IF [[previousPage]] == -1}} disabled{{ENDIF}}>[[Util::calculate([[previousPage]]+1)]] &lt;</button>
          <button class='btn btn-default active'>[[lang.getUCF('page')]] [[Util::calculate([[currentPage]]+1)]]</button>
          <button class='btn btn-default' onclick="window.location='hashes.php?[[src]]=[[srcId]]&filter=[[filtering]]&display=[[displaying]]&page=[[nextPage]]'"{{IF [[nextPage]] == -1}} disabled{{ENDIF}}>&gt; [[Util::calculate([[nextPage]]+1)]]</button>
        </div>
      </td>
    </tr>
	</table>
</div>
<form class='form-inline' action='hashes.php' method='get'>
	<input type='hidden' name='[[src]]' value='[[srcId]]'>
	<div class="panel panel-default">
		<table class="table table-bordered table-nonfluid">
			<tr>
				<td>
					<select name='display' class='form-control' style='float: left;'>
						{{FOREACH display;[[displays.getAllValues()]]}}
						  <option value='[[display.getVal('id')]]'{{IF [[display.getVal('id')]] == [[displaying]]}} selected{{ENDIF}}>[[display.getVal('text')]]</option>
						{{ENDFOREACH}}
					</select>&nbsp;&nbsp;
					{{IF [[src]] == "hashlist"}}
            <select name="filter" class='form-control'>
              {{FOREACH filter;[[filters.getAllValues()]]}}
                <option value='[[filter.getVal('id')]]'{{IF [[filter.getVal('id')]] == [[filtering]]}} selected{{ENDIF}}>[[filter.getVal('text')]]</option>
              {{ENDFOREACH}}
            </select>
					{{ENDIF}}
					&nbsp;&nbsp;
					<input type="submit" class='form-control' value="[[lang.get('button_ok')]]">
				</td>
			</tr>
		</table>
	</div>
</form>
<h3>[[lang.get('hashes_matching_hashes')]]: [[count]]</h3>
<div class="panel panel-default">
	<table class="table table-bordered table-nonfluid">
		<tr>
			<td>
				<pre style='max-height: 400px;' readonly>[[output]]</pre>
			</td>
		</tr>
		<tr>
			<td>
				<script type='text/javascript'>
					function hex2a(hex) { 
						var str = ''; 
						for (var i = 0; i < hex.length; i += 2){
							str += String.fromCharCode(parseInt(hex.substr(i, 2), 16)); 
						}
						return str;
					}
				</script>
				[[lang.get('hashes_hex_convertor')]]: 
				<form class='form-inline' method='get'>
					$HEX[ <input type="text" class='form-control' id="conv"> ] -> 
					<input type="text" class='form-control' id="convr" readonly> 
					<button class='btn btn-default' onclick="javascript:document.getElementById('convr').value=hex2a(document.getElementById('conv').value); return false;">[[lang.get('button_convert')]]</button>
				</form>
			</td>
		</tr>
	</table>
</div>
{%TEMPLATE->struct/foot%}