{%TEMPLATE->struct/head%}
{%TEMPLATE->struct/menu%}
{{IF ![[login.isLoggedin()]]}}
  <h2>[[lang.getUCF('login')]]</h2>
  [[message]]
  <div class='alert alert-neutral'>
    <div class='col-md-2'></div>
    <div class='col-md-8'>
      <br>
      <form action='login.php' method='post' class="form-horizontal">
        <input type='hidden' name='fw' value='[[fw]]'>
        <div class="form-group">
          <label for="inputUsername" class="col-sm-4 control-label">[[lang.getUCF('username')]]</label>
          <div class="col-sm-8">
            <input name='username' type="text" class="form-control" id="inputUsername" placeholder="[[lang.getUCF('username')]]">
          </div>
        </div>
        <div class="form-group">
          <label for="inputPassword" class="col-sm-4 control-label">[[lang.getUCF('password')]]</label>
          <div class="col-sm-8">
            <input name='password' type="password" class="form-control" id="inputPassword" placeholder="[[lang.getUCF('password')]]">
          </div>
        </div>
        {{IF [[Util::isYubikeyEnabled()]]}}
          <div class="form-group">
            <label for="inputOTP" class="col-sm-4 control-label">Yubikey OTP (if enabled)</label>
            <div class="col-sm-8">
              <input name='otp' type="password" class="form-control" id="inputOTP" placeholder="OTP">
            </div>
          </div>
        {{ENDIF}}
        <div class="form-group">
          <div class="col-sm-offset-4 col-sm-8">
            <button type="submit" class="btn btn-success">[[lang.getUCF('sign_in')]]</button>
            &nbsp;&nbsp;&nbsp;
            <a href='forgot.php'>[[lang.getUCF('forgot_password')]]</a>
          </div>
        </div>
      </form>
    </div>
    <div class='col-md-2'></div>
  </div>
  <div class='alert alert-info'>
    [[lang.get('index_alert_description_login_form')]]
  </div>
{{ELSE}}
  <div class='alert alert-success'>[[lang.get('index_message_welcome_back', [ [[user.getUsername()]] ])]]</div>
  <div class="alert alert-neutral">
    [[lang.get('index_message_sourcecode_repo')]]&nbsp;&nbsp;<a href="https://github.com/s3inlc/hashtopussy"><button class="btn btn-primary">[[lang.getUCF('server')]]</button></a>&nbsp;&nbsp;
    <a href="https://github.com/s3inlc/hashtopussy-agent"><button class="btn btn-primary">[[lang.get('Client_s')]]</button></a><br><br>
    [[lang.get('index_message_visit_wiki')]]
  </div>
{{ENDIF}}
{%TEMPLATE->struct/foot%}
