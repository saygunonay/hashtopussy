{%TEMPLATE->struct/head%}
{%TEMPLATE->struct/menu%}
<h2>[[lang.get('users_index_all_users')]] ([[numUsers]])</h2>
{%TEMPLATE->struct/messages%}
<div class="panel panel-default">
	<table class="table table-bordered table-nonfluid">
		<tr>
			<th>[[lang.get('table_property_id')]]</th>
			<th>[[lang.get('table_property_username')]]</th>
			<th>[[lang.get('table_property_creation_date')]]</th>
			<th>[[lang.get('table_property_last_login')]]</th>
			<th>[[lang.get('table_property_email')]]</th>
			<th>[[lang.get('table_property_validity')]]</th>
			<th>[[lang.get('table_property_session_length')]]</th>
			<th>[[lang.get('table_property_user_group')]]</th>
			<th>[[lang.get('table_property_action')]]</th>
		</tr>
		{{FOREACH entry;[[allUsers]]}}
			<tr>
				<td>[[entry.getVal('user').getId()]]</td>
				<td>[[htmlentities([[entry.getVal('user').getUsername()]], ENT_QUOTES, "UTF-8")]]</td>
				<td>[[date([[config.getVal(DConfig::TIME_FORMAT)]], [[entry.getVal('user').getRegisteredSince()]])]]</td>
				<td>[[date([[config.getVal(DConfig::TIME_FORMAT)]], [[entry.getVal('user').getLastLoginDate()]])]]</td>
				<td>[[entry.getVal('user').getEmail()]]</td>
				<td>
					{{IF [[entry.getVal('user').getIsValid()]] == 1}}
						[[lang.get('users_index_status_valid')]]
					{{ELSE}}
						[[lang.get('users_index_status_invalid')]]
					{{ENDIF}}
				</td>
				<td>[[entry.getVal('user').getSessionLifetime()]]</td>
				<td>[[entry.getVal('group').getGroupName()]]</td>
				<td>
					<a class='btn btn-primary' href="users.php?id=[[entry.getVal('user').getId()]]">[[lang.get('button_manage')]]</a>
				</td>
			</tr>
		{{ENDFOREACH}}
	</table>
</div>
{%TEMPLATE->struct/foot%}
